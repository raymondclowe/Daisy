===========================================================================
Daisy version 1e           Example Installation              September 1987
---------------------------------------------------------------------------


Introduction
------------

     As Daisy allows many different operating modes, with a wide variety of 
different options available, it may not be easy to see how to obtain the 
best from the system.

     This section gives an example of a Daisy installation which you may 
use as it stands, as the basis for your own system, or simply as a 
reference.



Hardware
--------
This example presumes a two floppy disk system with at least a 64K RAM 
disk.


Disks
-----
Two floppies are required to run this example system:-

On the floppy in drive A:-

BBS.COM        : Program      - Daisy main code file 
BBS.000        : Overlay      - Daisy overlay file
BBS.001        : Overlay      - Daisy overlay file
CALLS.BBS      : Daisy file   - Number of calls
OUTSIDE.SUB    : Text file    - Outside commands
RUNBBS.SUB     : Text file    - Automatic system start commands
WARM.SUB       : Text file    - System re-start commands
INIT.COM       : Program      - RAM disk activator
PIP.COM        : Program      - File transfer program 
SUBMIT.COM     : Program      - Submit utility


On the floppy in drive B:-

SYSTLOGO.BBS   : Text file    - System logo
BULLETIN.BBS   : Text file    - Main bulletin file
BULSLIST.BBS   : Daisy file   - Multiple bulletin list
BULSMENU.BBS   : Text file    - Multiple bulletin menu
HELP1.BBS      : Text file    - Message area help file
HELP2.BBS      : Text file    - Change menu help file
MSGINDEX.BBS   : Daisy file   - Message headers
MSGTEXT.BBS    : Daisy file   - Message text
SYSOPT.BBS     : Text file    - System options command file
USERLIST.BBS   : Daisy file   - User list
LIFE.COM       : Program      - Example, Outside program
USER.DOC       : Text file    - Daisy user manual


Daisy files are generated by Daisy automatically when Daisy is first run, 
Text and program files you must supply yourself.


How the system works
--- --- ------ -----
To understand this we will look at the RUNBBS.SUB, which sets up the 
system, and the SYSOPT.BBS which defines how it will work.



RUNBBS.SUB
----------
The RUNBBS.SUB file looks like this :-

                         ------------------------
                         ! INIT                 !
                         ! PIP C:=A:BBS.*       !
                         ! PIP C:=B:SYSOPT.BBS  !
                         ! C:                   !
                         ! BBS                  !
                         ! A:                   !
                         ! A:SUBMIT RUNBBS      !
                         ------------------------


Let's look at this line by line to see what it does.

"INIT" - Activate the RAM disk as drive C:, we use the 128K card as a RAM 
disk to speed the access to Daisy overlay files. This makes a big 
improvement in the overall speed of the program.

"PIP C:=A:BBS.*" - Move all of the BBS.* files, the COM and two overlays, 
onto the RAM disk.

"PIP C:=B:SYSOPT.BBS" - Move the system options command file onto the RAM 
disk. This is necessary because Daisy expects the SYSOPT.BBS to be on the 
CP/M logged drive, which is also where the program overlays are expected. 

"C:" - Make C:, the RAM drive, the logged drive.

"BBS" - Start Daisy.

At this point Daisy will run, and it will be able to answer calls and so 
on; the system is fully working. So why are there still two lines in the 
submit file as yet un-used?

Think of what would happen if, while Daisy was running, there was a loss of 
power, or Daisy was to crash, or you turned the computer off. In any of 
these cases when power was returned the system would find and perform the 
two remaining lines - "A:" and "A:SUBMIT RUNBBS" - together these would 
perform a complete re-start of the system.

Of course this means that if you use the Exit command of Daisy the system 
will also automatically re-start, so you would have to interrupt the submit 
process by pressing any key on the keyboard.

To return to Daisy, without doing the entire RUNBBS you can use the 
following "WARM.SUB" to warm-start the system.

                         -------------------
                         ! C:              !
                         ! BBS             !
                         ! A:              !
                         ! A:SUBMIT RUNBBS !
                         -------------------                        
                                           
                                           

System Options Command File
------ ------- ------- ----
When Daisy is run one of its first acts is to read in, and process, the 
file SYSOPT.BBS from the logged drive.

The following SYSOPT.BBS file is used for the example.

              ----------------------------------------------
              ! ; System option command file for Example   !
              !                                            !
              ! msg Index drive     = B                    !
              ! Msg text drive      = B      ; drives only !
              ! user list drive     = B                    !
              !                                            !
              ! system logo file name   = B:SYSTLOGO.BBS;  !
              ! bulletin file name      = B:BULLETIN.BBS;  !
              !                                            !
              ! outside file name     = a:outside.sub      !
              !                                            !
              ! help drive            = b                  !
              ! Bulletin list drive   = b                  !
              !                                            !
              ! allow yell              = TRUE;            !
              !                                            !
              ! Sysop Menu privilage level       = 80      !
              !                                            !
              ! end;                                       !
              ----------------------------------------------


Let's look at this file, and see how it effects the operation of Daisy. 
First of all note that only those System Options that we wish to differ 
from their default values are mentioned; the NEW USER PRIVILAGE LEVEL for 
example is left at its default value of 20 by not refering to it in the 
file.

Read the Sysop manual for a complete list of System options supported by 
Daisy, and their default values.

The first line has nothing before the ";", so is a comment, and is ignored 
by Daisy.

Then the next three lines (not counting those which are blank, and hence 
also ignored) specify that the message and user list files should be on 
drive B:. Here also note the use of a comment, which reminds us that only 
the drives of these files can be specified in this version of Daisy.

Next the drive and filename of the system logo and main bulletin files are 
given.

After that the same for the outside submit file, notice that Daisy is 
completely in-sensitive to the case of letters in these statements.

The help files are on drive B:, and the multiple bulletin list should also 
go on drive B:.

Allow Yell is set to true so that, by default, users can use the Y)ell 
command from the main menu to page the Sysop. This can of course be changed 
at any time using option #5 on the sysop menu.

Finally the Sysop menu privilage level is set to 80, so that users with 
that level of privilage can use the new remote sysop features.

The file then finishes with the "End" statement, after that any amount of 
comments or notes can be appended.
                                           
                                           
The final effect of these statements is that Daisy will be able to find, 
and make use of, the files on the different disks.



Now we look at some of those other files, and what they might contain.


Outside
-------
The file OUTSIDE.SUB is very simple :-

                                ----------
                                ! B:LIFE !
                                ! BBS    !
                                ----------

It calls the program LIFE.COM then, when that exits, returns to Daisy.

Much more complex outside files may of course be used, but for the most 
part they will take this simple form; run a program, then return to Daisy.



Multiple Bulletin
-------- --------
Because a Bulletin List Drive is specified the Multiple Bulletin feature is 
activated and the bulletin list can be edited from the Remote On-line Sysop 
Menu.

As a Bulletin File is also specified that file, BULLETIN.BBS, will be 
displayed at log-on, but the multiple bulletin will be available via the B 
command from the main menu.

The file BULSLIST.BBS is generated by Daisy, and contains a list of all the 
bulletins that are available through this function. It also contains a 
record of the file name of the Multiple Bulletin menu displayed to the 
user.

What the menu file contains depends of course both on what bulletin you 
wish to make available, and your personal choice as to the format. 

A file such as this would be suitable for the bulletin menu BULSMENU.BBS :-


                 ----------------------------------------
                 !                                      !
                 !           Available Bulletins        !
                 !                                      !
                 !      U : User manual (USER.DOC)      !
                 !                                      !
                 !      B : Log-on bulletin             !
                 !      I : Initial display (logo)      !
                 !      R : RUNBBS.SUB                  !
                 !      O : OUTSIDE.SUB                 !
                 !                                      !
                 ! @L                                   !
                 ! Select (Q to quit):                  !
                 ----------------------------------------
                                                         
"@L"
----
Notice this line just before the final prompt line; this line is not 
displayed, but instead is read as a command to Daisy. It prevents a CR/LF 
being sent after the next line, in this example it means that the cursor 
will be placed just after the last character in the last line.


Setting up
------- --
Using the B)uls command from the remote on-line sysop menu you can select 
this file as the Menu, and "Q" as the exit selector.

Then when a user selects the B command from the main menu this file will be 
displayed.

Once the Menu is specified you must Add each of the bulletins to the 
bulletin list, stating the file name of the file to be displayed, and the 
selector that selects it.




Raymond Lowe